---
import BlogPost from "../../layouts/BlogPost.astro";
import { Post, getDevToPosts } from "../../lib/content";

export async function getStaticPaths() {
  const remotePosts = await getDevToPosts();

  const allPosts = [...remotePosts];

  return allPosts.map((post) => ({
    params: { slug: post.slug },
    props: {
      post: post,
    },
  }));
}

type Props = { post: Post };

const { post } = Astro.props;
---

<BlogPost post={post}>
  <Fragment set:html={post.data.html} />
</BlogPost>

<!-- Style overrides -->
<style>
  .highlight__panel-action {
    display: none;
  }
</style>
